(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"3Djv":function(t,e,r){"use strict";r.d(e,"a",(function(){return h}));var s=r("LRne"),a=r("eIep"),o=r("8Y7J"),n=r("IheW");let h=(()=>{class t{constructor(t){this.http=t,this.baseUrl="http://localhost:8080/products"}fetchProducts(){return this.http.get(this.baseUrl)}getProduct(t){return this.http.get(`${this.baseUrl}/${t}`)}addProduct(t,e){let r=Object(s.a)({});return e&&(r=r.pipe(Object(a.a)(()=>t.imageUrl?this.http.delete(`http://localhost:8080/images/${t.imageUrl}`):Object(s.a)({})),Object(a.a)(()=>{t.imageUrl=this.randomStr();const r=new FormData;return r.append("pid",t.imageUrl),r.append("file",e),this.http.post("http://localhost:8080/images",r,{responseType:"text"})}))),r.pipe(Object(a.a)(()=>this.http.post(this.baseUrl,t)))}deleteProduct(t){return this.http.delete(`${this.baseUrl}/${t}`)}randomStr(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnoprstuvwxyz0123456789";for(let r=0;r<14;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}}return t.ngInjectableDef=o.Ib({factory:function(){return new t(o.Jb(n.c))},token:t,providedIn:"root"}),t})()}}]);